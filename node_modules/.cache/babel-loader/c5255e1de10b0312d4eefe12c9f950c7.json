{"ast":null,"code":"import { fromJS } from 'immutable';\nimport { AJAX_SUFFIXES } from 'appConstants';\nvar BEGIN_AJAX_CALL_SUFFIX = AJAX_SUFFIXES.BEGIN_AJAX_CALL_SUFFIX,\n    AJAX_CALL_SUCCEEDED_SUFFIX = AJAX_SUFFIXES.AJAX_CALL_SUCCEEDED_SUFFIX,\n    AJAX_CALL_FAILED_SUFFIX = AJAX_SUFFIXES.AJAX_CALL_FAILED_SUFFIX;\nexport var reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : fromJS({});\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var indexOfDelimiter = action.type.lastIndexOf('_');\n  var ajaxName = action.type.substring(0, indexOfDelimiter);\n  var ajaxStatus = action.type.substring(indexOfDelimiter);\n\n  switch (ajaxStatus) {\n    case BEGIN_AJAX_CALL_SUFFIX:\n      return state.set(ajaxName, (state.get(ajaxName) || 0) + 1);\n\n    case AJAX_CALL_SUCCEEDED_SUFFIX:\n    case AJAX_CALL_FAILED_SUFFIX:\n      if (state.has(ajaxName)) {\n        return state.set(ajaxName, (state.get(ajaxName) || 0) - 1);\n      }\n\n      return state;\n\n    default:\n      return state;\n  }\n};\nexport var selectAjax = function selectAjax(state) {\n  return state.get('ajax');\n};","map":{"version":3,"sources":["/home/local/ATALINK/thangnd/Desktop/AXON_challenge/src/reduxResources/ajax/index.js"],"names":["fromJS","AJAX_SUFFIXES","BEGIN_AJAX_CALL_SUFFIX","AJAX_CALL_SUCCEEDED_SUFFIX","AJAX_CALL_FAILED_SUFFIX","reducer","state","action","indexOfDelimiter","type","lastIndexOf","ajaxName","substring","ajaxStatus","set","get","has","selectAjax"],"mappings":"AAAA,SAASA,MAAT,QAAuB,WAAvB;AAEA,SAASC,aAAT,QAA8B,cAA9B;IAGEC,sB,GAGED,a,CAHFC,sB;IACAC,0B,GAEEF,a,CAFFE,0B;IACAC,uB,GACEH,a,CADFG,uB;AAGF,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAgC;AAAA,MAA/BC,KAA+B,uEAAvBN,MAAM,CAAC,EAAD,CAAiB;AAAA,MAAXO,MAAW;AACrD,MAAMC,gBAAgB,GAAGD,MAAM,CAACE,IAAP,CAAYC,WAAZ,CAAwB,GAAxB,CAAzB;AACA,MAAMC,QAAQ,GAAGJ,MAAM,CAACE,IAAP,CAAYG,SAAZ,CAAsB,CAAtB,EAAyBJ,gBAAzB,CAAjB;AACA,MAAMK,UAAU,GAAGN,MAAM,CAACE,IAAP,CAAYG,SAAZ,CAAsBJ,gBAAtB,CAAnB;;AAEA,UAAQK,UAAR;AACE,SAAKX,sBAAL;AACE,aAAOI,KAAK,CAACQ,GAAN,CAAUH,QAAV,EAAoB,CAACL,KAAK,CAACS,GAAN,CAAUJ,QAAV,KAAuB,CAAxB,IAA6B,CAAjD,CAAP;;AACF,SAAKR,0BAAL;AACA,SAAKC,uBAAL;AACE,UAAIE,KAAK,CAACU,GAAN,CAAUL,QAAV,CAAJ,EAAyB;AACvB,eAAOL,KAAK,CAACQ,GAAN,CAAUH,QAAV,EAAoB,CAACL,KAAK,CAACS,GAAN,CAAUJ,QAAV,KAAuB,CAAxB,IAA6B,CAAjD,CAAP;AACD;;AAED,aAAOL,KAAP;;AACF;AACE,aAAOA,KAAP;AAXJ;AAaD,CAlBM;AAoBP,OAAO,IAAMW,UAAU,GAAG,SAAbA,UAAa,CAACX,KAAD,EAAW;AAAE,SAAOA,KAAK,CAACS,GAAN,CAAU,MAAV,CAAP;AAA2B,CAA3D","sourcesContent":["import { fromJS } from 'immutable';\n\nimport { AJAX_SUFFIXES } from 'appConstants';\n\nconst {\n  BEGIN_AJAX_CALL_SUFFIX,\n  AJAX_CALL_SUCCEEDED_SUFFIX,\n  AJAX_CALL_FAILED_SUFFIX,\n} = AJAX_SUFFIXES;\n\nexport const reducer = (state = fromJS({}), action) => {\n  const indexOfDelimiter = action.type.lastIndexOf('_');\n  const ajaxName = action.type.substring(0, indexOfDelimiter);\n  const ajaxStatus = action.type.substring(indexOfDelimiter);\n\n  switch (ajaxStatus) {\n    case BEGIN_AJAX_CALL_SUFFIX:\n      return state.set(ajaxName, (state.get(ajaxName) || 0) + 1);\n    case AJAX_CALL_SUCCEEDED_SUFFIX:\n    case AJAX_CALL_FAILED_SUFFIX:\n      if (state.has(ajaxName)) {\n        return state.set(ajaxName, (state.get(ajaxName) || 0) - 1);\n      }\n\n      return state;\n    default:\n      return state;\n  }\n};\n\nexport const selectAjax = (state) => { return state.get('ajax'); };\n"]},"metadata":{},"sourceType":"module"}